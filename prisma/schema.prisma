/**
 * Defines the primary database connection for the application.
 * This datasource block specifies the database provider which is PostgreSQL,
 * and the connection URL, which is typically loaded from an environment variable.
 * Adjust the URL as needed to match your deployment environment.
 */
datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

/**
 * Configures the Prisma Client generator.
 * This block specifies that the Prisma Client should be generated using the JavaScript provider,
 * and the output directory for the generated client code.
 */
generator client {
    provider = "prisma-client-js"
}

model User {
    id         String   @id @default(uuid())
    full_name  String
    email      String   @unique
    password   String
    role       String   @default("user")
    created_at DateTime @default(now())
}

model Topic {
    id          String   @id @default(uuid())
    name        String   @unique
    description String?
    createdBy   String
    createdAt   DateTime @default(now())

    learningPaths LearningPath[]
}

enum LearningLevel {
    beginner
    intermediate
    advanced
}

model LearningPath {
    id        String        @id @default(uuid())
    topicId   String
    level     LearningLevel
    createdAt DateTime      @default(now())

    topic Topic @relation(fields: [topicId], references: [id])

    @@unique([topicId])
}
